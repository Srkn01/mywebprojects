<!DOCTYPE html>
<html>
<head>
	<title>minecraft</title>
	<style type="text/css">
		body{
			margin-top: 7px;
			padding: 0;
		}
		canvas{
			background-color: lightblue;
			display: block;
			margin: 0 auto;
			
		}
		#btn{
		width: 100px;
		height: 100px;	
		position: absolute;
		top: 450px;
		left: 100px;
		font-size: 20px;
		font-weight: bold;
		}
		h1{
		position: absolute;
		top: 455px;
		}
		
	</style>
</head>
<body>
<canvas id="myCanvas" width="650" height="400"></canvas>
<div id="menu">
	<h1>50$ : </h3>
	<button id="btn">Get Live</button>
	
</div>
<script type="text/javascript">
	var canvas = document.getElementById("myCanvas");
	var ctx = canvas.getContext("2d");
	var Interval = setInterval(loop,10);
	
	var x = 100;
	var y = 300; 
	var w = 40;
	var h = 60;

	var ex = 550;
	var ey = 320;

	var mx = 350;
	var my = 330;

	var dx = 4;

	var live = 90;

	var tx = 0
	var ty = 0;
   
	var money = 30;

	var getlive = false;
	document.addEventListener("keydown",KeyDownHandler);
	document.addEventListener("keyup",KeyUpHandler);
	document.getElementById("btn").onclick = function(){click()}
	var RightPressed = false;
	var LeftPressed = false;


	function click(){
		if(money == 50 || money >= 50){
			live = 90;
			money -= 50;

		}
	}

	function loop(){

		draw();

		update();
	}

	function draw(){
		ctx.clearRect(0,0,canvas.width,canvas.height);
	ctx.beginPath();
	ctx.rect(0,360,650,40);
	ctx.fillStyle = "green";
	ctx.fill();
	ctx.closePath();

	ctx.beginPath();
	ctx.rect(x,y,w,h);
	ctx.fillStyle = "orange";
	ctx.fill();
	ctx.closePath();

	ctx.beginPath();
	ctx.rect(ex,ey,40,40);
	ctx.fillStyle = "red";
	ctx.fill();
	ctx.closePath();

	ctx.beginPath();
	ctx.rect(10,10,100,40);
	ctx.fillStyle = "grey";
	ctx.fill();
	ctx.closePath();

	ctx.beginPath();
	ctx.rect(14.5,14.5,live,30);
	ctx.fillStyle = "red";
	ctx.fill();
	ctx.closePath();

	ctx.beginPath();
	ctx.fillStyle = "black";
	ctx.font = "40px Arial"
	ctx.fillText("GAME OVER",tx,ty);
	ctx.closePath();

	ctx.beginPath();
	ctx.fillStyle = "black";
	ctx.font = "25px Arial"
	ctx.fillText(money+"$",595,30);
	ctx.closePath();

	ctx.beginPath();
	ctx.arc(mx,my,15,0,Math.PI*2);
	ctx.fillStyle = "yellow";
	ctx.fill();
	ctx.closePath();

	}
	function update(){

		if(RightPressed && x < canvas.width - 40){
			x+=dx;
		}
		if(LeftPressed && x > 0){
			x-=dx;
		}
		if(live < 0){
			live=0;
		}
		if(x == 508){
			live-=10;
			x-=48;
		}
		if(x == mx-58){
			money+=20;
			mx=-20;
		}
		if(live == 0 || live < 0){
			tx = 200
			ty = 200;
			dx = 0;
			w = 60
			h = 40
			y = 320;
		}
	}
	function KeyDownHandler(e){
		if(e.keyCode == 39){
			RightPressed = true;
			
		}
		if(e.key == "ArrowLeft"){
			LeftPressed = true;
		}
	}
	function KeyUpHandler(e){
    	if(e.key == "Right" ||e.key == "ArrowRight"){
			RightPressed = false;
		}
		if(e.key == "Left" ||e.key == "ArrowLeft"){
			LeftPressed = false;
		}	
	}
</script>
</body>
</html>